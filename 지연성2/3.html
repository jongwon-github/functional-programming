<script>
  const log = console.log;
</script>
<script src="../lib/fx.js"></script>
<script>
  const isIterable = (a) => a && a[Symbol.iterator];

  L.flatten = function* (iter) {
    for (const a of iter) {
      if (isIterable(a)) for (const b of a) yield b;
      else yield a;
    }
  };

  const it = L.flatten([[11, 21], 3, [1, 2, 3]]);
  log(it.next());
  log(it.next());
  log(it.next());
  log(take(6, L.flatten([[1, 2], 3, 4, [5, 6], [7, 8, 9]])));

  const flatten = pipe(L.flatten, takeAll);
  log(flatten([[1, 2], 3, 4, [5, 6], [7, 8, 9]]));

  // curry를 재정의 해봅시다...
  //   const curry =
  //     (f) =>
  //     (a, ..._) =>
  //       _.length ? f(a, ..._) : (..._) => f(a, ..._);
  // go를 재정의 해봅시다...
  //const go = (...args) => reduce((a, f) = f(a), args);
  // pipe를 재정의 해봅시다...
  //const pipe = (f, ...args) => (...a) => go(f(...a), ...args);
</script>
<body></body>
